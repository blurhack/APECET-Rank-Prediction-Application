<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4559616394716126"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Rank Prediction Application</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        .counter{
            max-width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }
        .container {
            max-width: 600px;
            margin: 50px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #333;
        }

        form {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

        button {
            padding: 10px 20px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        #predictedRank {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-top: 20px;
        }

        .error {
            color: red;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Rank Prediction Application</h1>
    <form id="rankPredictionForm" onsubmit="event.preventDefault(); predictRank()">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>
    <label for="rollNumber">Roll Number (Format: XXXXX-XX-XXX):</label>
    <input type="text" id="rollNumber" name="rollNumber" pattern="[A-Za-z0-9]{5}-[A-Za-z0-9]{2}-[A-Za-z0-9]{3}" title="Please enter in the format: XXXXX-XX-XXX" required>
    <label for="marks">Marks (Max 200):</label>
    <input type="number" id="marks" name="marks" min="0" max="200" required>
    <label for="branch">Branch:</label>
    <select id="branch" name="branch" required>
        <option value="">Select Branch</option>
        <option value="CSE">CSE</option>
        <option value="ECE">ECE</option>
        <option value="Mech">Mechanical</option>
        <option value="EEE">EEE</option>
       <!--Departments Selection-->
    </select>
    <label for="caste">Caste:</label>
    <select id="caste" name="caste" required>
        <option value="">Select Caste</option>
        <option value="OC">OC</option>
        <option value="BC">BC</option>
        <option value="SC">SC</option>
        <option value="ST">ST</option>
    </select>
    <label for="mobileNumber">Mobile Number (10 digits):</label>
    <input type="text" id="mobileNumber" name="mobileNumber" pattern="[0-9]{10}" title="Please enter 10 digits" required>
    <button type="submit">Predict Rank</button>
</form>
<div class="counter">
<a href="https://www.aashveetech.com" target="_blank">
        <img src="https://hitwebcounter.com/counter/counter.php?page=13506582&style=0001&nbdigits=5&type=page&initCount=0" title="Counter Widget" Alt="Visit counter For Websites" /></a>                                    
</div>
        <div>                                   
    <div id="predictedRank"></div>
    <div class="disclaimer">Please note: This is an estimated rank based on previous cutoffs.</div>
    </div>
    
    
 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4559616394716126"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4559616394716126"
     data-ad-slot="8908625687"></ins>
    
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="copyright">
    &copy; 2024 Anubose Institute of Technology
</div>

<script>
    function predictRank() {
        const name = document.getElementById('name').value;
        const rollNumber = document.getElementById('rollNumber').value;
        const marks = parseInt(document.getElementById('marks').value);
        const branch = document.getElementById('branch').value;
        const caste = document.getElementById('caste').value;
        const mobileNumber = document.getElementById('mobileNumber').value;
         
            if (name.trim() === '') {
        showError("Name cannot be empty");
        return;
    }


        // Validataion rule for  mobile number
        const mobileRegex = /^[0-9]{10}$/;
        if (!mobileRegex.test(mobileNumber)) {
            showError("Mobile number must be 10 digits");
            return;
        }

        // Validataioni for  marks
        if (marks > 200) {
            showError("Marks cannot be above 200");
            return;
        }

        let rank;

        //  rank prediction based on marks and branch
       if (branch === 'CSE') {
    if (marks >= 165) {
        rank = '1 to 10';
    } else if (marks >= 150 && marks < 165) {
        rank = '11 to 20';
    } else if (marks >= 140 && marks < 150) {
        rank = '20 to 50';
    } else if (marks >= 130 && marks < 140) {
        rank = '50 to 150';
    } else if (marks >= 120 && marks < 130) {
        rank = '150 to 250';
    } else if (marks >= 115 && marks < 120) {
        rank = '275 to 300';
    } else if (marks >= 100 && marks < 115) {
        rank = '300 to 350';
    } else if (marks >= 90 && marks < 100) {
        rank = '350 to 500';
    } else if (marks >= 80 && marks < 90) {
        rank = '500 to 1100';
    } else if (marks >= 70 && marks < 80) {
        rank = '1100 to 1550';
    } else if (marks >= 50 && marks < 70) {
        rank = '2000+';
    } else {
        rank = '2025+';
    }
}
    if (branch === 'ECE') {
    if (marks >= 165) {
        rank = '1 to 10';
    } else if (marks >= 150 && marks < 165) {
        rank = '11 to 20';
    } else if (marks >= 140 && marks < 150) {
        rank = '20 to 50';
    } else if (marks >= 130 && marks < 140) {
        rank = '50 to 150';
    } else if (marks >= 120 && marks < 130) {
        rank = '150 to 250';
    } else if (marks >= 115 && marks < 120) {
        rank = '275 to 300';
    } else if (marks >= 100 && marks < 115) {
        rank = '300 to 350';
    } else if (marks >= 90 && marks < 100) {
        rank = '350 to 500';
    } else if (marks >= 80 && marks < 90) {
        rank = '500 to 1100';
    } else if (marks >= 70 && marks < 80) {
        rank = '1100 to 1550';
    } else if (marks >= 50 && marks < 70) {
        rank = '2000+';
    } else {
        rank = '2025+';
    }
}
        // Implement logic for other branches...
    if (branch === 'EEE') {
    if (marks >= 165) {
        rank = '1 to 10';
    } else if (marks >= 150 && marks < 165) {
        rank = '11 to 20';
    } else if (marks >= 140 && marks < 150) {
        rank = '20 to 50';
    } else if (marks >= 130 && marks < 140) {
        rank = '50 to 150';
    } else if (marks >= 120 && marks < 130) {
        rank = '150 to 250';
    } else if (marks >= 115 && marks < 120) {
        rank = '275 to 300';
    } else if (marks >= 100 && marks < 115) {
        rank = '300 to 350';
    } else if (marks >= 90 && marks < 100) {
        rank = '350 to 500';
    } else if (marks >= 80 && marks < 90) {
        rank = '500 to 1100';
    } else if (marks >= 70 && marks < 80) {
        rank = '1100 to 1550';
    } else if (marks >= 50 && marks < 70) {
        rank = '2000+';
    } else {
        rank = '2025+';
    }
}
    if (branch === 'MECH') {
    if (marks >= 165) {
        rank = '1 to 10';
    } else if (marks >= 150 && marks < 165) {
        rank = '11 to 20';
    } else if (marks >= 140 && marks < 150) {
        rank = '20 to 50';
    } else if (marks >= 130 && marks < 140) {
        rank = '50 to 150';
    } else if (marks >= 120 && marks < 130) {
        rank = '150 to 250';
    } else if (marks >= 115 && marks < 120) {
        rank = '275 to 300';
    } else if (marks >= 100 && marks < 115) {
        rank = '300 to 350';
    } else if (marks >= 90 && marks < 100) {
        rank = '350 to 500';
    } else if (marks >= 80 && marks < 90) {
        rank = '500 to 1100';
    } else if (marks >= 70 && marks < 80) {
        rank = '1100 to 1550';
    } else if (marks >= 50 && marks < 70) {
        rank = '2000+';
    } else {
        rank = '2025+';
    }
}
   
   
        // Additional logic based on caste
        if ((caste === 'SC' || caste === 'ST') && marks < 50) {
            rank = '2000 above';
        } else if ((caste === 'OC' || caste === 'BC') && marks < 50) {
            rank = 'Not qualified';
        } else if ((caste === 'OC' || caste === 'BC') && marks <= 50) {
            rank = '2000 above';
        }

        const predictedRank = `Your predicted Rank is : ${rank}`;
        document.getElementById('predictedRank').innerText = predictedRank;

        // POST details to the server
        const predictionDetails = {
            name: name,
            rollNumber: rollNumber,
            marks: marks,
            branch: branch,
            caste: caste,
            mobileNumber: mobileNumber,
            predictedRank: rank
        };
        saveToServer(predictionDetails);
    }

    function saveToServer(predictionDetails) {
        // POST Details to the server using fetch API
        fetch('save-prediction.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(predictionDetails)
        })
        .then(response => {
            if (response.ok) {
                console.log('Prediction details saved successfully');
            } else {
                console.error('Failed to save prediction details');
            }
        })
        .catch(error => {
            console.error('Error saving prediction details:', error);
        });
    }
    

    function showError(message) {
        const errorDiv = document.createElement('div');
        errorDiv.classList.add('error');
        errorDiv.textContent = message;
        document.getElementById('predictedRank').innerHTML = '';
        document.getElementById('predictedRank').appendChild(errorDiv);
    }
</script>
</body>
</html>
